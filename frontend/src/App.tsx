import React from "react";
import "./App.css";
import { BrowserRouter as Router, Switch, Route, Link } from "react-router-dom";
import { Provider } from "react-redux";
import store from "./store";

import Home from "./pages/Home";
import Join from "./pages/Join";
import Teams from "./pages/TeamsContainer";

const BACKEND_API_URL =
    process.env.BACKEND_API_URL || "http://backend.localhost";

const App: React.FC = () => {
    return (
        <Provider
            store={store({
                teams: [],
            })}
        >
            <Router>
                <div className="App">
                    <header className="App-header">
                        <Link to="/">
                            <div
                                style={{
                                    display: "flex",
                                    flexDirection: "column",
                                    justifyContent: "space-evenly",
                                    alignItems: "center",
                                    textDecoration: "none",
                                }}
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 987.317 222.97"
                                    width="75%"
                                >
                                    <title>TeamSnap Logo</title>
                                    <defs>
                                        <clipPath id="a">
                                            <path d="M3.074 89.19c0-47.561 38.556-86.115 86.113-86.115 47.562 0 86.113 38.554 86.113 86.115 0 47.558-38.551 86.112-86.113 86.112-47.557 0-86.113-38.554-86.113-86.112"></path>
                                        </clipPath>
                                        <radialGradient
                                            cx="0"
                                            cy="0"
                                            r="1"
                                            fx="0"
                                            fy="0"
                                            id="b"
                                            gradientUnits="userSpaceOnUse"
                                            gradientTransform="matrix(86.11308 0 0 -86.11308 89.187 122.938)"
                                            spreadMethod="pad"
                                        >
                                            <stop
                                                offset="0"
                                                stop-color="#ffa100"
                                            ></stop>
                                            <stop
                                                offset="1"
                                                stop-color="#ff5a00"
                                            ></stop>
                                        </radialGradient>
                                        <clipPath id="c">
                                            <path d="M0 178.376h789.854V0H0v178.376z"></path>
                                        </clipPath>
                                        <clipPath id="d">
                                            <path d="M0 178.376h789.854V0H0v178.376z"></path>
                                        </clipPath>
                                    </defs>
                                    <g
                                        clip-path="url(#a)"
                                        transform="matrix(1.25 0 0 -1.25 0 222.97)"
                                    >
                                        <path
                                            d="M3.074 89.19c0-47.561 38.556-86.115 86.113-86.115 47.562 0 86.113 38.554 86.113 86.115 0 47.558-38.551 86.112-86.113 86.112-47.557 0-86.113-38.554-86.113-86.112"
                                            fill="url(#b)"
                                        ></path>
                                    </g>
                                    <g
                                        clip-path="url(#c)"
                                        transform="matrix(1.25 0 0 -1.25 0 222.97)"
                                    >
                                        <path
                                            d="M68.235 36.13L45.61 53.43a378.302 378.302 0 0 0 22.42 23.384c3.085 3.019 5.032 4.934 5.832 5.744-2.513.389-9.686 2.018-21.514 4.88-8.538 2.067-14.154 3.596-16.856 4.579l9.318 26.63c12.884-5.33 24.466-11.191 34.734-17.612-2.396 16.542-3.588 30.044-3.588 40.503h26.62c0-7.503-1.343-21.106-4.038-40.817 1.993.806 6.332 2.746 13.034 5.846 9.158 4.09 17.605 7.585 25.34 10.48l7.72-27.155c-11.205-2.493-24.172-4.94-38.908-7.334l18.08-20.542c3.61-4.154 6.47-7.552 8.584-10.18L109.23 36.66 89.12 70.566C83.044 59.79 76.09 48.308 68.234 36.13"
                                            fill="#fff"
                                        ></path>
                                    </g>
                                    <g
                                        clip-path="url(#d)"
                                        transform="matrix(1.25 0 0 -1.25 0 222.97)"
                                    >
                                        <path
                                            className="LogoText"
                                            d="M218.646 122.257c-.258-5.237-.521-17.528-.521-19.1-.26-7.064-.26-36.092 0-54.4.263-10.203 2.616-17.268 12.818-23.02 0 0-5.757-8.373-7.85-11.51-15.17 8.378-18.831 20.93-18.831 35.577v41.323c0 12.296-.26 22.236 0 30.341-3.141 1.048-8.63 1.31-13.076 1.574.26 3.398.26 8.105.782 11.505 3.665 0 11.507.524 13.863 1.047-.523 2.358 0 5.49 0 6.538.258 8.374.525 12.292 1.044 18.311 0 0 11.77 3.921 14.125 5.486-.522-6.274-1.047-19.61-1.568-31.642 7.064.26 15.698 1.307 19.878 1.307 0 0-.26-6.27.262-12.552-3.136.518-16.738-.785-20.926-.785m61.209 5.493c-8.638 0-20.665-12.552-19.881-35.839 4.182-.522 13.864-.26 18.304.524 7.33.783 15.44 1.826 18.574 2.358-2.09 19.091-4.97 32.956-16.997 32.956m4.442-105.94c-9.153 0-21.447 6.811-27.984 15.957-7.325 10.467-11.25 24.853-11.25 44.993 0 41.846 16.738 57.808 37.927 57.808 20.14 0 27.723-27.47 28.773-57.55-20.666-1.828-46.298-3.918-52.314-3.4.788-14.126 2.094-23.8 6.274-31.905 4.449-7.85 13.344-13.079 19.357-13.079 6.017 0 19.88 3.133 24.327 6.014.787-2.35 2.88-6.014 4.709-8.628-2.614-4.192-21.972-10.21-29.82-10.21m59.632 54.146c-6.795-3.659-14.9-9.942-14.9-19.094 0-18.307 4.442-24.582 12.553-24.582 7.843 0 19.352 10.463 26.154 17.525.784 2.352.784 31.125.784 36.355-3.398-1.042-18.837-7.06-24.59-10.204m26.42-65.122c0 3.653-1.83 18.572-2.356 23.8-5.753-6.013-17.787-17.002-31.125-17.002-8.102 0-21.184 10.722-21.184 36.092 0 9.676 5.231 24.328 15.694 30.083 17.522 9.412 30.862 12.554 37.141 15.17.26 13.074-.784 21.452-7.847 24.846-8.37 3.927-15.956 5.236-23.02 5.236 0 0 .787 11.771.787 14.12 8.896-1.046 27.727-4.448 34.265-8.89 6.804-4.185 8.894-17.008 8.894-22.5 0-1.829.257-41.845.257-68.793 0-11.506 1.314-25.632 1.835-28.769-4.449-1.045-9.682-2.35-13.342-3.393M500.6 24.17c-1.568-.258-8.896-1.312-14.38-1.828.52 7.846.78 20.14.78 25.37v58.852c0 11.502.264 17.775-6.018 17.775-7.578 0-23.014-13.334-26.415-16.995.522-7.846.522-80.037.783-83.7h-15.17c.79 1.831 1.309 16.738 1.309 18.05 0 7.063-1.048 60.943-1.048 67.741 0 15.438-1.308 17.005-10.72 17.005-7.063 0-17.267-4.71-21.451-7.066 0-6.01-.522-83.695-.522-100.434-4.186 1.302-11.246 2.608-13.341 2.608.265 7.072.524 38.976.524 41.33l.26 80.038c3.92-.784 8.894-2.087 11.767-1.832 0 0 .79-6.537 1.575-9.412 9.418 4.71 21.189 8.106 30.08 8.106 5.228 0 11.248-2.354 13.595-10.455.53-1.574 1.31-5.763 1.31-8.379 8.114 7.585 21.455 17.265 30.604 17.265 13.079 0 16.74-10.199 16.74-28.513L500.6 24.17zm22.447-5.987c.341 7.439.341 11.859-.185 18.936 16.27 0 25.646 5.837 25.646 13.619 0 9.2-7.596 19.646-13.083 27.253-7.786 10.08-15.224 21.402-15.224 33.617 0 21.76 15.406 30.076 46.365 30.076-.35-5.482-.884-11.145-.177-17.164-16.452-.346-26.55-3.365-26.55-10.967 0-7.431 1.424-9.2 12.217-25.302 7.426-10.615 15.566-22.827 15.566-35.038 0-21.938-10.793-31.493-44.575-35.03m103.667 5.845c-2.82 10.255-21.573 53.43-27.943 67.585-.363-4.955-.18-13.622-.18-19.636-.183-18.051.18-49.193.18-49.193-5.313 1.244-13.105 2.123-20.528 2.655.701 9.022 2.645 38.044 2.823 60.868.18 19.815-.875 44.403-1.056 53.432 5.136 0 12.39.529 17.164 1.422.884-6.2 19.633-49.906 28.486-67.771 0 4.778.534 31.848-.18 47.24-.179 5.84-.71 12.567-1.586 17.345 7.245.353 13.091 1.055 19.641 2.473V22.784c-6.719.529-11.333.71-16.82 1.244m58.21 83.512c-1.233-9.025-6.016-39.813-6.895-45.12 3.19.53 12.033.348 15.751.886-1.417 6.727-6.905 35.732-8.856 44.234m18.059-88.826c-.711 6.55-4.078 17.697-4.964 24.424-.181 1.23-.359 2.474-.359 3.537a9782.97 9782.97 0 0 1-22.293-1.063c-.871-4.961-4.237-21.235-4.95-26.72-6.008 2.65-13.264 5.315-18.398 6.73 1.765 7.247 13.974 59.62 19.643 96.427.875 5.835 2.472 14.333 2.472 17.338 4.25.532 15.214 1.235 19.113 1.947 1.406-6.373 26.889-110.06 28.839-118.021-4.782-.88-13.799-3.004-19.103-4.6m46.174 104.929c.17-4.96.52-12.917.7-19.47.185-5.134.536-13.977.536-18.93 11.504.537 19.826 10.61 19.826 21.06 0 13.094-7.435 17.34-21.062 17.34m1.065-55.74c0-13.276.17-30.783 1.225-40.871-7.78-2.825-20.34-5.311-20.34-5.311 0 14.332.535 45.128 0 75.379-.358 15.218-1.592 35.384-3.002 41.048 6.54 1.772 12.38 2.3 17.513 2.475 24.068.89 44.235-7.071 44.235-35.384 0-15.396-17.512-35.57-39.631-37.335"
                                        ></path>
                                    </g>
                                </svg>
                                <span className="App-header-logo-text">
                                    MEGA TOURNAMENT
                                </span>
                            </div>
                        </Link>
                        <ul>
                            <li>
                                <Link to="/teams">View Teams</Link>
                            </li>
                            <li>
                                <Link to="/join">Register Teams</Link>
                            </li>
                        </ul>
                    </header>
                    <main className="container">
                        <Switch>
                            <Route path="/teams">
                                <Teams />
                            </Route>
                            <Route path="/join">
                                <Join baseurl={BACKEND_API_URL} />
                            </Route>
                            <Route path="/">
                                <Home />
                            </Route>
                        </Switch>
                    </main>
                </div>
            </Router>
        </Provider>
    );
};

export default App;
